# 创建型模式

1. Abstract Factory
	- 意图： 提供一个创建一系列相关或互相依赖对象的接口，而无需指定它们具体的类。
	- 别名：Kit
	- 适用性：
		1. 一个系统要独立于它的产品的创建、组合和表达时。
		2. 一个系统要有多个产品中的一个来配置时。
		3. 当你要强调一系列相关的产品对象的设计以便进行联合使用时。
		4. 当你强调一系列相关的产品对象的设计以便进行联合使用时。
		5. 当你强调一个产品类库，而只想显示它们的接口而不是实现时。
	- 参与者：
	  1. AbstractFactory -- 声明一个创建抽象产品对象的操作接口。
	  2. ConcreteFactory -- 具体实现Factory。
	  3. AbstractProduct -- 为一类产品对象声明一个接口。
	  4. ConcreteProduct -- 定义一个将被对应的具体工厂创建的产品对象。
	  5. Client -- 使用接口。
	- 效果：
		- 优点:
			1. 分离的具体的类
			2. 易于交换产品系列
			3. 它有利于产品的一致性
		- 缺点：
			1. 难以支持新品类的对象
	- 实现：
		1. 将工厂做为单件
		2. 创建产品
		3. 定义可扩展的工厂
	- 相关模式：
		AbstractFactory类通常用工厂方法实现，但它们也可以用Protype实现。
		一个具体的工厂通常是一个单件。
2. Builder
	- 意图:
		将一个复杂对象的构建与它的表示分离。
	- 适用性：
		- 当创建复杂对象的算法应该独立于该对象的组成部分以及它们的装配方式时。
		- 当构造过程必须被构造对象有不同的表示时。
	- 效果：
		1. 使你可以改变一个产品的内部表示
		2. 它将构造代码和表示代码分开
		3. 它使你可以对构造过程进行更精细的控制
	- 实现：
		- 实现问题：
			1. 装配和构造接口
			2. 为什么产品没有抽象类
			3. 在Builder中缺省的方法为空
	- 相关模式：
		- AbstractFactory 与Builder相似，因为它也可以创建复制对象。主要区别是Builder模式着重于一步步构建一个复制对象。而Abstract Factory着重于多个系列的产品对象产品。Builder在最后一步返回对象，而对于AF来说，产品是立即返回的。
		- Composite通常是用Builder生成的。

3. Factory Method
	- 意图：
		定义一个用于创建对象的接口，让子类决定实例化哪个类。Factory Method使一个类的实例化延迟到其子类。
	- 别名：
		Virtual Constructor
	- 适用性：
		- 当一个类不知道它所创建的对象的类的时候。
		- 当一个类希望由它的子类来指定它所创建的对象的时候。
		- 当类将创建对象的职责委托给多个帮助子类中的某一个，并且希望哪一个帮助子类代理这一个信息局部化的时候。
	- 效果：
		1. 为子类提供挂钩
		2. 连接平行的类层次
	- 实现：
		1. 主要有两种不同的情况：
			1. Creator类是一个抽象类。
			2. Creator类是一个具体的类并提供了一个具体的实现。
		2. 参数化工厂方法
		3. 特定语言的变化和问题
		4. 使用模板以避免创建子类
		5. 命名约定
	- 相关模式
		- Abs Factory 经常用工厂方法来实现。
		- 工厂方法通常在Template Methods中被调用。
		- Prototypes不需要创建Creator的子类。但是，它们通常要求一个针对Product类的Initialize操作。

4. Prototype
	- 意图
		用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象。
	- 适用性
		当一个系统应该独立于它的产品创建、构成和表达时，要使用Prototype模式；以及
		- 当要实例化的类是运行时指定的，例如，Dynamic Load。
		- 为了避免创建一个与产品类层次平行的工厂类时。
		- 当一个类的实例只能有几个不同状态组合中的一种时。创建相应数目的原型并克隆它们可能比每次用合适的状态手工实例化该类更方便一些。
	- 效果
		1. 运行时刻增加和删除产品
		2. 改变只以指定新对象
		3. 改变结构以指定新对象
		4. 减少子类的构造
		5. 用类动态配置应用
	- 实现
		1. 使用一个原型管理类
		2. 实现克隆操作
		3. 初始化克隆对象
	- 相关模式
		- Prototype和AbsFactory在一些方面是互相竞争的，但可以一起使用。
		- 大量使用Composite和Decorator模式的设计通常也可从Prototype模处获益。

5. Singleton
	- 意图
		确保一个类仅有一个实例，并提供一个访问它的全局访问点
	- 适用性
		- 当类只能有一个实例而且可以从一个众所周知的访问点访问它时。
		- 当这个唯一实例应该是通过实例化可扩展的，并且客户无需更改代码就能使用一个拓展的实例时。
	-  效果
		- 对唯一实例的受控访问
		- 缩小Namespace
		- 允许可变数目的实例
		- 比类操作更灵活
	- 实现
		- 保证一个唯一的实例
		- 创建Singleton类的子类